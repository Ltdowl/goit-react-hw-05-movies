"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[163],{725:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(504),a=n(184);function c(e){return e&&(0,a.jsx)("ul",{children:e.data.map((function(e){var t=e.id,n=e.original_title;return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(t),children:n})},t)}))})}},360:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(152),a=n(791),c=n(871),u=n(635),i=n(725),o=n(184);function s(){var e,t=(0,a.useState)(null),n=(0,r.Z)(t,2),s=n[0],f=n[1],l=(0,c.s0)(),p=(0,c.TH)(),h=p.pathname,d=p.search,v=null;!function(){var e=window.sessionStorage.getItem("prevRoute");e.includes("search")&&(v=e.slice(15))}(),(0,a.useEffect)((function(){var e=d.slice(8);e&&(0,u.Ai)(e).then(f)}),[d]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value.trim();t&&(l("".concat(h,"?search=").concat(t)),window.sessionStorage.setItem("prevRoute","".concat(h,"?search=").concat(t)))},children:[(0,o.jsx)("input",{name:"query",defaultValue:null!==(e=v)&&void 0!==e?e:"",type:"text"}),(0,o.jsx)("input",{type:"submit",value:"Search"})]}),s&&(0,o.jsx)(i.Z,{data:s.results})]})}},635:function(e,t,n){n.d(t,{Ai:function(){return h},Hx:function(){return p},Tg:function(){return s},Y5:function(){return f},xc:function(){return l}});var r=n(861),a=n(757),c=n.n(a),u="12e65dbf8f6231388c10338e98f45dbb";function i(){return o.apply(this,arguments)}function o(){return o=(0,r.Z)(c().mark((function e(){var t,n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function s(){return i("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(u))}function f(e){return i("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(u,"&language=en-US"))}function l(e){return i("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(u,"&language=en-US"))}function p(e){return i("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(u,"&language=en-US"))}function h(e){return i("\n  https://api.themoviedb.org/3/search/movie?api_key=".concat(u,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}}}]);
//# sourceMappingURL=movies-view.7540bdcf.chunk.js.map